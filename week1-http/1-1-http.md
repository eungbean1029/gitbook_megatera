# 💡 1-1 HTTP의 이해

### HTTP의 정의

* HTTP는 HTML 문서와 같은 리소스들을 가져올 수 있도록 해주는 프로토콜이다.
* 클라이언트 <-> 서버 프로토콜이다.

> #### 프로토콜 - 네트워킹에서의 데이터 서식 지정 및 처리를 위한 규칙 세트

### OSI 7계층 (2,3,4,7 계층만 알아보자.)

* 표준 프로토콜을 사용하여 다양한 통신 시스템이 통신할 수 있도록 해주는 모델이다.

1. 2계층 - 데이터 링크 계층 (MAC address)
   1. 동일한 네트워크에 있는 두개의 장치 간 데이터 전송을 용이하게 한다.
   2. MAC address는 하드웨어에서 얻을 수 있다.
2. 3계층 - 네트워크 계층 (IP address)
   1. 서로 다른 네트워크 간 데이터 전송을 용이하게 한다.
   2. 원격에서 알 수 있다.
3. 4계층 - 전송 계층(TCP,UDP => Port number)
   1. 두 기기 간의 종단 간 통신을 담당한다.
   2. port number는 프로그램에서 지정해준다.
4. 7계층 - 응용 계층(HTTP)
   1. 사용자의 데이터와 직접 상호 작용하는 유일한 계층이다.
   2. 웹 브라우저 및 이메일 클라이언트와 같은 소프트웨어 애플리케이션이 이 계층에 의지한다.

{% hint style="info" %}
HTTPS란?

* HTTP의 암호화 되지 않는 문제점을 보완한 것 이다.
* HTTP 메시지를 암호화 한 것이다.
{% endhint %}

{% hint style="info" %}
TLS란?

* 전송 계층 보안(TLS)는 HTTPS에 암호화에 사용하는 프로토콜이다.
{% endhint %}

#### HTTP의 흐름

* 클라이언트 시스템에서 서버에 요청한 다음 서버에서 응답 메시지를 보내는 작업이다.

#### 클라이언트 - 서버 모델

1. &#x20;클라이언트 : 요청(서비스를 요청하는 사람) -> 리소스를 요청한다. (url)
2. 서버 : 응답(서비스를 제공하는 사람)&#x20;



### Stateful 과 Stateless(무상태)

#### Stateless(무상태)

* 무상태는 HTTP 각각의 요청이 독립적인 것을 말한다.
* 즉 , 클라이언트는 항상 자신이 누군지 알려줘야 한다.
  * 서버는 단순히 요청이 오면 응답을 보내는 역할만 수행한다.
    1. 쿠키로 요청과 응답을 계속 주고받는다.
    2. 해당 데이터는 서버에서 관리하고 쿠키로 클라이언트가 전달해줘야하는 key를 관리하는 세션이 있다.
    3. 보편적인 리소스(이미지) 접근을 위한 LocalStorage도 있다.

#### Stateful(상태유지)

* 클라이언트와 서버간의 통신을 상태유지하는 것을 말한다.

### HTTP 쿠키와 HTTP 세션

* HTTP 프로토콜의 특성이자 약점을 보완하기 위해서 사용한다.

#### 쿠키(Cookie)

* 클라이언트 로컬에 저장되는 키와 값이 들어있는 작은 데이터 파일이다.
* ㅅ사용자 인증이 유효한 시간을 명시할 수 있다.
* 유효시간이 정해지면 브라우저가 종료되어도 인증이 유지된다는 특징이 있다.

#### 세션(Session)

* 세션은 쿠키를 기반하고 있지만, 브라우저에 사용자 정보 파일을 저장하는 쿠키와 달리 세션은 서버 측에서 관리한다.
* 서버에서는 세션 ID를 부여하여 클라이언트를 구분한다.
* 웹 브라우저가 서버에 접속해서 브라우저를 종료할 때까지 인증상태를 유지한다.

#### 차이점

* 사용자의 정보가 저장되는 위치가 가장 큰 차이점이다.
* 쿠키는 서버의 자원을 전혀 사용하지 않으며, 세션은 서버의 자원을 사용한다.

### HTTP 메시지

* HTTP 메시지는 서버와 클라이언트 간에 데이터가 교환되는 방식이다.
* 요청(request)와 응답(response)가 있다.

#### HTTP 구조

<figure><img src="../.gitbook/assets/image (2) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

1. 시작 줄 : 실행되어야 할 요청 , 또는 요청 수행에 대한 성공 또는 실패가 기록되어 있다.
2. 옵션 : HTTP 헤더 세트가 들어간다.&#x20;
   1. 요청에 대한 설명, 혹은 메시지 본문에 대한 설명이 들어간다.
3. 빈 줄 : 요청에 대한 모든 메타 정보가 전송되었음을 알린다.
4. 요청과 관련된 내용이 옵션으로 들어가거나, 응답과 관련된 문서가 들어간다.

> HTTP 메시지의 시작 줄과 HTTP 헤더를 묶어서 "요청 헤드(head)"라고 부르며, 이와 반대로 HTTP 메시지의 페이로드는 "본문(body)"라고 한다.

### HTTP 요청

* HTTP 요청은 서버가 특정 동작을 취하게끔 만들기 위해 클라이언트에서 전송하는 메시지이다.

1. GET (Read) : 특정 리소스를 가져오도록 요청한다.
2. HEAD (GET without body) : 특정 리소스를 GET 메서드로 요청했을 때 돌아올 헤더를 요청한다.
3. POST : 서버로 데이터를 전송한다.
4. PUT : 요청 페이로드를 사용해 새로운 리소스를 생성하거나 , 대상 리소스를 나타내는 데이터를 대체한다.
5. PATCH : 리소스의 부분적인 수정을 할 때에 사용한다.
6. OPTIONS : 주어진 URL 또는 서버에 대해 허용된 통신 옵션을 요청한다.

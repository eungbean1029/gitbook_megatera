---
description: Spring Security에 대한 인증, 인가, 암호화에 대해서 학습하자.
---

# 💡 10-1 인증 / 인가

## ✅ 인증 (Authentication)

<figure><img src="../.gitbook/assets/image (15).png" alt=""><figcaption></figcaption></figure>

### 1️⃣ 정의

* 인증이란 식별 가능한 정보를 이용하여 서비스에 등록 유저의 신원을 입증하는 과정이다.
  * 내 서비스에 등록된 사용자에게만 서비스를 제공한다는 뜻으로 이해하면 쉽다.

### 2️⃣ 인증 방식

1. <mark style="color:yellow;">**세션 - 쿠키 방식**</mark>
   * 사용자의 정보를 세션에 저장하여 서버에서 관리하는 것이다.
   * Spring Security는 세션-쿠키 방식으로 인증한다.

> #### \[세션 - 쿠키 방식 흐름]
>
> 1. 클라이언트가 서버로 로그인 요청을 보낸다.
> 2. 서버는 클라이언트가 보낸 (id, pw)를 확인한다.
> 3. (4 포함) 요청 정보가 유효하면 세션 ID를 생성한다.
> 4. 클라이언트는 응답으로 받은 세션을 쿠키에 저장한다.
> 5. 클라이언트가 인증이 필요한 요청을 할 때마다 헤더에 쿠키 실어서 보낸다.
> 6. 서버는 쿠키를 확인하여 사용자를 식별합니다.
> 7. 사용자에게 맞는 데이터를 넘겨줍니다.
>
>

1.  <mark style="color:yellow;">**토큰 (jwt) 방식**</mark>

    * JWT 토큰은 간단하게 사용자의 정보를 JSON 객체로 안전하게 전송하기 위한 방법이다.



> #### \[JWT 토큰 방식 흐름]
>
> 1. 클라이언트가 로그인을 서버에 요청합니다.
> 2. 서버는 요청에대한 ID/ PW을 검증하여 맞다면 토큰을 생성합니다.
> 3. 클라이언트에게 토큰을 전달하여 저장시킵니다.\
>    \-> (생각해봐야 할 문제 토큰을 어디에 저장할 것인가?)
>    1. 쿠키
>    2. 세션 스토리지
>    3. 로컬 스토리지
> 4. 클라이언트는 요청을 보낼때 Header 영역에 토큰을 포함하여 보냅니다.
> 5. ```xml
>    ### 헤더에 Authorization 필드로 토큰을 포함하여 보낸다. GET https:/testpage/members Authorization: Bearer {{auth_token}}
>    ```
> 6. 서버는 해당 토큰을 검증하여 만료되거나 변조 여부를 확인 후 응답을 돌려줍니다.

1. <mark style="color:yellow;">다른 채널을 통해 인증 (OAuth)</mark>



## ✅ 인가 (Authorization)

### 1️⃣ 정의

* 인증된 사용자가 접근하려는 자원에 대한 권한이 있는지 확인하는 절차이다.
  * 당신에게 무엇이 허가 되었는지 증명하는 것이다.
* 사용자가 자원에 접근하려고 할 때 인증을 받았는지 안받았는지 여부를 먼저 확인한다.

